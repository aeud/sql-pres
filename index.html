<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="description" content="AERO is a sofware, designed and developed by Sephora, to help our team to work together on the marketing campaigns.">
    <title>Intro to SQL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/css/reveal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/css/theme/white.min.css" id="theme">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/monokai-sublime.min.css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,900italic,700italic,700,500italic,500,400italic,900,300italic,300,100italic' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        html, body, h1, h2, h3, h4, h5, h6, li {
            font-family: 'Roboto', sans-serif;
        }
        h2 i.material-icons,
        h2 i.fa {
            font-size: 400px;
        }
        .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
            font-family: 'Roboto', sans-serif;

        }
        .reveal section img {
            border: none;
            box-shadow: none;
            max-width: 90%;
            max-height: 500px;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <section data-background="#000">
                <section >
                    <div style="border-top: 3px #fff solid; border-bottom: 3px #fff solid; text-align: left; padding: 10px 0 0 0; margin: 0 0 100px 0;">
                        <img src="images/ga.png" alt="" style="width: 200px; margin: 0;">
                    </div>
                    <h2>Intro to SQL</h2>
                    <p class="insert email"></p>
                </section>
                <section>
                    <h2>Plan</h2>
                    <ol>
                        <li>Creating & populating a database</li>
                        <li>Building a query</li>
                        <li>Filtering</li>
                        <li>Querying multiple tables</li>
                    </ol>
                </section>
            </section>
            <section>
                <section>
                    <h2>Database</h2>
                    <p>A set of <i>related</i> information.</p>
                </section>
                <section data-background="images/yellow-pages.jpg"></section>
                <section>
                    <h2>Phone books: a database?</h2>
                    <ul>
                        <li>It contains formated information</li>
                        <li>Information is indexed</li>
                        <li>It's possible to find a piece of information (phone number, address) from a name</li>
                    </ul>
                </section>
                <section>
                    <h2>Phone book: a bad database!</h2>
                    <ul>
                        <li>Time consuming: it contains a large number of entries</li>
                        <li>Indexed by last/first names</li>
                        <li>Once it's printed, there is no more updates</li>
                    </ul>
                </section>
                <section>
                    <h2>Hierarchical database system</h2>
                    <img src="https://www.dropbox.com/s/8qmmi9xfhdevyxh/Screenshot%202016-02-15%2010.21.51.png?dl=1" alt="">
                </section>
                <section>
                    <h2>Network database system</h2>
                    <img src="https://www.dropbox.com/s/t1ii1vqwaagm892/Screenshot%202016-02-15%2010.23.34.png?dl=1" alt="">
                </section>
                <section>
                    <h2>Relational model</h2>
                    <img src="images/relational-model.png" alt="">
                </section>
            </section>
            <section>
                <section>
                    <h2>Terminology</h2>
                </section>
                <section>
                    <h2>Entity</h2>
                    <p>Something of interest to the database user community. Examples include customers, parts, geographic locations, etc.</p>        
                </section>
                <section>
                    <h2>Column</h2>
                    <p>An individual piece of data stored in a table.</p>        
                </section>
                <section>
                    <h2>Row</h2>
                    <p>A set of columns that together completely describe an entity or some action on an entity. Also called a record or a tuple.</p>        
                </section>
                <section>
                    <h2>Table</h2>
                    <p>A set of rows, held either in memory (nonpersistent) or on permanent storage (persistent).</p>        
                </section>
                <section>
                    <img src="images/relational-model-terminology.png" alt="">      
                </section>
                <section>
                    <h2>Result set</h2>
                    <p>Another name for a nonpersistent table, generally the result of an SQL query.</p>        
                </section>
                <section>
                    <h2>Primary key</h2>
                    <p>One or more columns that can be used as a unique identifier for each row in a table.</p>        
                </section>
                <section>
                    <h2>Foreign key</h2>
                    <p>One or more columns that can be used together to identify a single row in another table.</p>        
                </section>
                <section>
                    <img src="images/relational-model-terminology-2.png" alt="">      
                </section>
            </section>
            <section>
                <section>
                    <h2>SQL</h2>
                    <ul>
                        <li>Chamberlin and Boyce (IBM) in the early 1970s</li>
                        <li>Initialy called SEQUEL</li>
                    </ul>
                </section>
                <section>
                    <h2>SQL statements</h2>
                    <ul>
                        <li><b>Schema statement</b> to define the data structures stored in the database</li>
                        <li><b>Data statement</b> to manipulate the data</li>
                        <li><b>Transaction statement</b> to begin, end, and roll back transactions</li>
                    </ul>
                </section>
                <section>
                    <h2>A progamming language</h2>
                    <ul>
                        <li>Nonprocedural</li>
                        <li>Dependant to other environments</li>
                    </ul>
                </section>
                <section>
                    <img src="https://www.dropbox.com/s/l0md1n3tryepkzq/Screenshot%202016-02-15%2011.26.58.png?dl=1" alt="">
                </section>
            </section>
            <section>
                <section>
                    <h2>Setup an environment</h2>
                </section>
                <section>
                    <h2>A server</h2>
                    <img src="https://www.dropbox.com/s/cyghuwpfisbezxd/Screenshot%202016-02-16%2010.19.22.png?dl=1" alt="">
                </section>
                <section>
                    <h2>From your laptop!</h2>
                    <img src="https://www.dropbox.com/s/4ktnletrhl851xt/Screenshot%202016-02-16%2010.20.09.png?dl=1" alt="">
                </section>
                <section>
                    <h2>Or in the cloud</h2>
                    <img src="https://www.dropbox.com/s/w6e76tr2piwv563/Screenshot%202016-02-16%2010.22.04.png?dl=1" alt="">
                    <p><a href="https://c9.io/">Cloud9</a></p>
                </section>
                <section>
                    <h2>Connect</h2>
                    <img src="https://www.dropbox.com/s/0d9n8f5360okzln/Screenshot%202016-02-16%2010.28.22.png?dl=1" alt="">
                </section>
                <section>
                    <h2>Create a workspace</h2>
                    <img src="https://www.dropbox.com/s/owc2hoau5ac2xkc/Screenshot%202016-02-16%2010.29.17.png?dl=1" alt="">
                </section>
                <section>
                    <h2>Presentation of C9</h2>
                    <img src="images/c9-pres.png" alt="">
                </section>
                <section>
                    <h2>Setup PostgreSQL</h2>
                    <p>Copy this code in the CLI</p>
<pre><code>$ sudo service postgresql start
$ sudo sudo -u postgres psql
</code></pre>
                </section>
                <section>
                    <h2>First interaction</h2>
                    <img src="https://www.dropbox.com/s/zcjtygux3l05ul1/Screenshot%202016-02-16%2014.34.49.png?dl=1" alt="">
                </section>
                <section>
                    <h2>Try it!</h2>
<pre><code class="sql">-- Get the current date
SELECT CURRENT_DATE;
/**
 *     date    
 * ------------
 *  2016-02-16
 * (1 row)
 */
</code></pre>
                </section>
                <section>
                    <h2>How to work with C9</h2>
                    <ol>
                        <li>Create a new folder <code>sql</code> in your <i>File exporer</i></li>
                        <li>Inside this folder create a first script <code>01-awesome-name.sql</code></li>
                        <li>Edit this file in the <i>IDE</i></li>
                        <li><code>SELECT CURRENT_DATE;</code></li>
                        <li><b>Save</b>: <code>cmd + s</code> or <code>ctrl + s</code> or <code>File > Save</code></li>
                        <li>Run the script from the <i>CLI</i>, in <i>psql</i></li>
                        <li><code>\i sql/01-awesome-name.sql</code></li>
                    </ol>
                </section>
                <section>
                    <h2>How to work: result</h2>
                    <img src="images/c9-method.png" alt="">
                </section>
                <section>
                    <h2>Help</h2>
                    <h3>Open PSQL</h3>
<pre><code>$ sudo sudo -u postgres psql
</code></pre>
                    <h3>Run a script</h3>
<pre><code>postgres=# \i PATH/to-script.sql
</code></pre>
                    <h3>Close the client PSQL</h3>
<pre><code>postgres=# \q
</code></pre>
                </section>
            </section>
            <section>
                <section>
                    <h2>The types</h2>
                    <img src="http://fullyfeline.com/wp-content/uploads/2013/03/cats-and-dogs-group.jpg" alt="">
                </section>
                <section>
                    <h2>One rule</h2>
                    <p>All the values of a column have to be of the same type</p>
                </section>
                <section>
                    <h2>Types, types, types</h2>
                    <ul>
                        <li>boolean</li>
                        <li>character varying [ (n) ]</li>
                        <li>text</li>
                        <li>date</li>
                        <li>integer</li>
                        <li>double precision</li>
                        <li>...</li>
                    </ul>
                    <p><a href="http://www.postgresql.org/docs/9.4/static/datatype.html">PostgreSQL data types</a></p>
                </section>
            </section>
<!--
            <section>
                <section>
                    <h2>Let's be practical</h2>
                    <img src="images/kitchen-tools.jpg" alt="">
                </section>
                <section>
                    <h2>We need the furnitures</h2>
                    <img src="images/ikea.jpg" alt="">
                </section>
                <section>
                    <h2>That's what I'm looking for</h2>
                    <img src="images/ikea-kitchen-1.jpg" alt="">
                </section>
                <section>
                    <h2>Or that..</h2>
                    <img src="images/ikea-kitchen-2.jpg" alt="">
                </section>
                <section>
                    <h2>The shape doesn't matter</h2>
                    <img src="images/ikea-kitchen-3.jpg" alt="">
                </section>
                <section>
                    <h2>Chossing your kitchen is choosing your database</h2>
                </section>
                <section>
                    <h2>Then we have to choose the storage</h2>
                    <img src="images/ikea-storage.jpg" alt="">
                </section>
                <section>
                    <h2>These drawers are your <i>tables</i></h2>
                </section>
                <section>
                    <h2>Finally let's organise our drawer</h2>
                    <img src="images/ikea-column.jpg" alt="">
                </section>
                <section>
                    <h2>Summary</h2>
                    <img src="images/summary.jpg" alt="">
                </section>
            </section>
-->
            <section>
                <section>
                    <h2>Please meet Sheets</h2>
                    <img src="images/sheets-1.png" alt="">
                </section>
                <section>
                    <p>I want to store some information about the students of GA</p>
                </section>
                <section>
                    <h2>I create my first table <i>Student</i></h2>
                    <img src="images/sheets-table.png" alt="">
                </section>
                <section>
                    <h2>How do I describe a student?</h2>
                </section>
                <section>
                    <h2>How do I describe a student?</h2>
                    <ul>
                        <li>First name</li>
                        <li>Last name</li>
                        <li>Email</li>
                        <li>Age</li>
                        <li>...</li>
                    </ul>
                </section>
                <section>
                    <h2>I create my first table <i>Student</i></h2>
                    <img src="images/sheets-columns.png" alt="">
                </section>
                <section>
                    <h2>Now we can insert some rows</h2>
                    <img src="images/sheets-rows.png" alt="">
                </section>
                <section>
                    <h2>Let's integrate the cities</h2>
                    <img src="images/sheets-table3.png" alt="">
                </section>
                <section>
                    <h2>Let's integrate the classes</h2>
                    <img src="images/sheets-table2.png" alt="">
                </section>
                <section>
                    <h2>How to link Students and Cities?</h2>
                    <img src="images/Ideas - 17.png" alt="">
                </section>
                <section>
                    <p>A <i>Student</i> has <b>only one</b> <i>City</i></p>
                </section>
                <section>
                    <h2>SQL Constraint</h2>
                    <h3>Pattern A</h3>
                    <p>Add a <b>Foreign Key</b> in the <i>Student</i> table referring to the <i>City</i> table</p>
                </section>
                <section>
                    <h2>SQL Constraint</h2>
                    <h3>Pattern A</h3>
                    <ol>
                        <li>Create <b>Primary keys</b> in all the tables</li>
                        <li>Create a <b>Foreign key</b> in the <i>Student</i> table</li>
                    </ol>
                </section>
                <section>
                    <h2>SQL Constraint</h2>
                    <h3>Pattern A</h3>
                    <img src="images/sheets-pk.png" alt="">
                </section>
                <section>
                    <h2>SQL Constraint</h2>
                    <h3>Pattern A</h3>
                    <img src="images/sheets-fk.png" alt="">
                </section>
                <section>
                    <h2>How to link Students and Classes?</h2>
                    <img src="images/Ideas - 16.png" alt="">
                </section>
                <section>
                    <p>A <i>Student</i> has <b>one or many</b> <i>Classes</i></p>
                </section>
                <section>
                    <h2>SQL Constraint</h2>
                    <h3>Pattern B</h3>
                    <p>Create a pivot table with <b>2 Foreign Keys</b> referring to <i>Student</i> table and to <i>Class</i> table</p>
                    <p>The <b>Foreign key couple</b> is in fact the <b>Primary key</b> of this pivot table</p>
                </section>
                <section>
                    <h2>SQL Constraint</h2>
                    <h3>Pattern A</h3>
                    <img src="images/sheets-pivot.png" alt="">
                </section>
                <section>
                    <section>
                        <h2>STOP EXCEL</h2>
                    </section>
                </section>
            </section>
            <section>
                <section>
                    <h2>All about the queries</h2>
                </section>
                <section>
                    <h2>Query sample</h2>
<pre><code class="sql">-- Sample query
select o.order_id "Order ID", count(distinct i.id) "Quantity" from orders o inner join items i on o.order_id = i.order_id where o.delivered_at is not null and not i.is_sample group by o.order_id order by 1 desc limit 100;</code></pre>
                </section>
                <section>
                    <h2>Please, indent</h2>
<pre><code class="sql">-- Indented sample query
SELECT
    o.order_id           AS "Order ID",
    COUNT(DISTINCT i.id) AS "Quantity"
FROM
    orders o
INNER JOIN
    items i
        ON o.order_id = i.order_id
WHERE
    o.delivered_at IS NOT NULL AND NOT i.is_sample
GROUP BY
    o.order_id
ORDER BY o.created_at DESC
LIMIT 100;</code></pre>
                    <p><i>Not only for you, but also for everyone else!</i></p>
                </section>
                <section>
                    <h2>Query 1</h2>
                    <h3>Create a table</h3>
<pre><code class="sql">-- Create table query
DROP TABLE IF EXISTS student;
CREATE TABLE student (
    id SERIAL PRIMARY KEY,
    first_name VARCHAR(255),
    last_name VARCHAR(255),
    email VARCHAR(255),
    age INTEGER
);</code></pre>
                    <p><a href="http://www.postgresql.org/docs/9.1/static/sql-createtable.html" target="_blank">Documentation</a></p>
                </section>
                <section>
                    <h2>Query 2</h2>
                    <h3>Insert some columns</h3>
<pre><code class="sql">-- Insert rows
INSERT INTO student (
    first_name,
    last_name,
    email,
    age
) VALUES (
    'Leo',
    'Di Caprio',
    'leo@gmail.com',
    40
), (
    'Angelina',
    'Joli',
    'angi@gmail.com',
    42
);</code></pre>
                    <p><a href="http://www.postgresql.org/docs/8.2/static/sql-insert.html" target="_blank">Documentation</a></p>
                </section>
                <section>
                    <h2>Query 3</h2>
                    <h3>Retrieve your data</h3>
<pre><code class="sql">-- Select rows
SELECT
    id,
    first_name,
    last_name
FROM
    student
LIMIT 10;</code></pre>
                    <p><a href="http://www.postgresql.org/docs/8.2/static/sql-select.html" target="_blank">Documentation</a></p>
                </section>
                <section>
                    <h2>Your turn!</h2>
                    <p>Create the tables <i>City</i> and <i>Class</i> and insert some data inside</p>
                </section>
                <section>
                    <h2>Query 4</h2>
                    <h3>See your table</h3>
<pre><code class="sql">\d+ city</code></pre>
                </section>
                <section>
                    <h2>Query 5</h2>
                    <h3>Update a table</h3>
<pre><code class="sql">-- Update a table
ALTER TABLE student
    ADD city_id INTEGER REFERENCES city(id);</code></pre>
                    <p><a href="http://www.postgresql.org/docs/9.1/static/sql-altertable.html" target="_blank">Documentation</a></p>
                </section>
                <section>
                    <h2>Query 6</h2>
                    <h3>Update rows</h3>
<pre><code class="sql">-- Update rows
UPDATE
    student -- Table name
SET
    city_id = 1 -- Field to update
WHERE
    id = 1 -- Row to update
;</code></pre>
                    <p><a href="http://www.postgresql.org/docs/9.1/static/sql-update.html" target="_blank">Documentation</a></p>
                </section>
                <section>
                    <h2>Your turn!</h2>
                    <p>Create the pivot table <i>student_class</i></p>
                </section>
                <section>
                    <h2>Query 7</h2>
                    <h3>Retrieve you data (bis)</h3>
<pre><code class="sql">-- Select some data
SELECT
    s.first_name AS "Student first name",
    s.last_name AS "Student last name",
    c.name AS "City"
FROM
    student s
    INNER JOIN city c ON c.id = s.city_id
WHERE
    c.name = 'NYC'
ORDER BY
    s.first_name DESC
LIMIT 10;</code></pre>
                    <p><a href="http://www.postgresql.org/docs/8.2/static/sql-select.html" target="_blank">Documentation</a></p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Work with a bigger dataset</h2>
                </section>
                <section>
                    <h2>Set up the dataset</h2>
<pre><code># Leave PSQL if opened with \q
$ wget https://raw.githubusercontent.com/aeud/sql-pres/master/movielens.sql # Download the dataset
$ sudo sudo -u postgres psql < movielens.sql # Add the dataset to your database
$ sudo sudo -u postgres psql # Restart PSQL client
</code></pre>
                </section>
                <section>
                    <h2>You just created 6 tables</h2>
                    <ul>
                        <li><code>occupations</code></li>
                        <li><code>users</code></li>
                        <li><code>ratings</code></li>
                        <li><code>movies</code></li>
                        <li><code>genres</code></li>
                        <li><code>genres_movies</code></li>
                    </ul>
                </section>
                <section>
                    <h2>Relations</h2>
                    <p>A <i>User</i> has <b>one</b> <i>Occupation</i></p>
                    <p>A <i>Rating</i> has <b>one</b> <i>User</i> and <b>one</b> <i>Movie</i></p>
                    <p>A <i>Movie</i> has <b>many</b> <i>Genres</i> (via <code>genre_movie</code>)</p>
                </section>
                <section>
                    <h2>Fields</h2>
<pre><code class="sql">-- PostgreSQL
\d+ occupations
\d+ users
\d+ ratings
\d+ movies
\d+ genres
\d+ genres_movies</code></pre>
                </section>
            </section>
            <section>
                <section>
                    <h2>Building a query</h2>
                </section>
                <section>
                    <h2>Sample</h2>
<pre><code class="sql">-- Indented sample query
SELECT
    o.order_id           AS "Order ID",
    COUNT(DISTINCT i.id) AS "Quantity"
FROM
    orders o
INNER JOIN
    items i
        ON o.order_id = i.order_id
WHERE
    o.delivered_at IS NOT NULL AND NOT i.is_sample
GROUP BY
    o.order_id
ORDER BY o.created_at DESC
LIMIT 100;</code></pre>
                </section>
                <section>
                    <h2>Query clauses</h2>
                    <img src="images/sql-clauses.png" alt="">
                </section>
                <section>
                    <h2>SELECT</h2>
<pre><code class="sql">-- Apply these queries
SELECT * FROM users LIMIT 5;
SELECT id, age, gender FROM users LIMIT 5;
SELECT id AS "User ID", age AS "Age", gender AS "Gender" FROM users LIMIT 5;</code></pre>
                </section>
                <section>
                    <h2>FROM</h2>
<pre><code class="sql">-- Apply these queries
SELECT * FROM users LIMIT 5;
SELECT * FROM movies LIMIT 5;</code></pre>
                </section>
                <section>
                    <h2>WHERE</h2>
<pre><code class="sql">-- Apply these queries
SELECT * FROM users WHERE id = 1 LIMIT 5;
SELECT * FROM users WHERE gender = 'M' LIMIT 5;</code></pre>
                </section>
                <section>
                    <h2>GROUP BY</h2>
                    <h3>Use case</h3>
                    <p>How to determine how many females / males are recorded in our dataset?</p>
                    <table>
                        <thead>
                            <tr>
                                <th>Gender</th>
                                <th>Count</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>M</td>
                                <td>670</td>
                            </tr>
                            <tr>
                                <td>F</td>
                                <td>273</td>
                            </tr>
                        </tbody>
                    </table>
                </section>
                <section>
                    <h2>Aggregate functions</h2>
                    <ul>
                        <li>SUM(field)</li>
                        <li>COUNT(field)</li>
                        <li>COUNT(DISTINCT field)</li>
                    </ul>
                    <p>
                        <a href="http://www.postgresql.org/docs/9.1/static/functions-aggregate.html" target="_blank">Documentation</a>
                    </p>
                </section>
                <section>
                    <h2>GROUP BY</h2>
<pre><code class="sql">-- Apply this queries
SELECT
    u.gender AS "Gender", -- Dimension(s)
    count(u.*) AS "Count" -- Aggregate function
FROM
    users AS u
GROUP BY
    gender -- Dimension(s)
;</code></pre>
                </section>
                <section>
                    <h2>ORDER BY</h2>
<pre><code class="sql">-- Apply these queries
SELECT * FROM users ORDER BY age ASC LIMIT 5;
SELECT * FROM users ORDER BY age DESC LIMIT 5;
SELECT * FROM users ORDER BY gender ASC LIMIT 5;</code></pre>
                </section>
                <section>
                    <h2>LIMIT</h2>
<pre><code class="sql">-- Apply these queries
SELECT * FROM users ORDER BY age ASC LIMIT 5;
SELECT * FROM users ORDER BY age ASC LIMIT 10;
SELECT * FROM users ORDER BY age ASC LIMIT 100; -- use \q to escape</code></pre>
                </section>
                <section>
                    <h2>Exercise</h2>
                    <p>How can I get the distribution of the movies, by release year?</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Filtering</h2>
                </section>
                <section>
                    <h2>Conditions</h2>
                    <p>The <code>WHERE</code> clause is made of a serie of expressions, linked by logical operators</p>
                </section>
                <section>
                    <h2>Logical operators</h2>
                    <ul>
                        <li>AND</li>
                        <li>OR</li>
                        <li>NOT</li>
                    </ul>
                </section>
                <section>
                    <h2>Rules</h2>
                    <ul>
                        <li>TRUE <code>AND</code> FALSE = FALSE</li>
                        <li>TRUE <code>OR</code> FALSE = TRUE</li>
                        <li>TRUE <code>AND</code> (FALSE <code>OR</code> TRUE) = TRUE</li>
                        <li>TRUE <code>AND</code> <code>NOT</code>(FALSE <code>OR</code> TRUE) = FALSE</li>
                    </ul>
                </section>
                <section>
                    <h2>Expressions</h2>
                    <ul>
                        <li>Number</li>
                        <li>Column in a table</li>
                        <li>Built-in functions (<a href="http://www.postgresql.org/docs/8.1/static/functions.html">Documentation</a>)</li>
                        <li>Comparaison operators: <code>=</code>, <code>!=</code>, <code><</code>, <code>></code>, <code><></code>, <code>LIKE</code>, <code>IN</code></li>
                        <li>Arithmetic operators, such as <code>+</code>, <code>−</code>, <code>*</code>, <code>/</code></li>
                    </ul>
                </section>
                <section>
                    <h2>SQL</h2>
<pre><code class="sql">-- Conditions
SELECT
    id,
    age,
    gender
FROM
    users u
WHERE
    u.gender = 'M' AND u.age < 35
ORDER BY
    id desc
LIMIT 5;</code></pre>
                </section>
                <section>
                    <h2>Your turn</h2>
                    <p>With the documentation, write a query to fetch the movies released in 1996 with a title starting with the letter D or T</p>
                </section>
                <section>
                    <h2>Your turn (Bonus)</h2>
                    <p>Get the distribution of movies released in 1996, by title first letter</p>
                    <p>Get the distribution of movies with a title starting with P, by year of release</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Querying multiple tables</h2>
                </section>
                <section>
                    <p>How to get how many time a movie has been rated? And by which user?</p>
                </section>
                <section>
                    <h2>Join</h2>
<pre><code class="sql">-- Join, use aliases!!
SELECT
    m.title, -- 1
    count(r.id) reviews, -- 2
    count(distinct r.user_id) unique_reviews -- 3
FROM
    movies m
    INNER JOIN ratings r ON r.movie_id = m.id
ORDER BY
    2 desc
LIMIT 5;</code></pre>
                </section>
                <section>
                    <h2>Join</h2>
<pre><code class="sql">-- Join, use aliases!!
SELECT
    m.title, -- 1
    count(r.id) reviews, -- 2
    count(distinct r.user_id) unique_reviews -- 3
FROM
    movies m
    INNER JOIN ratings r ON r.movie_id = m.id
GROUP BY
    1
ORDER BY
    2 desc
LIMIT 5;</code></pre>
                </section>
                <section>
                    <h2>Your turn</h2>
                    <p>Get the top 10 movies, by average rate</p>
                </section>
                <section>
                    <h2>Your turn (Bonus)</h2>
                    <p>Get some statistics by year, about the number of rates, the average rates, etc.. Be creative</p>
                    <p>Try to find an answer to this question: Does users give rates to movies only if they liked it? only if they hated it? only if they liked or hated it? (tip: analyse the distribution of rates)</p>
                </section>
                <section>
                    <h2>Different ways to join</h2>
                    <img src="images/joins.jpg" alt="">
                </section>
            </section>
            <section>
                <section>
                    <h2>Q&A</h2>
                    <p class="insert email"></p>
                </section>
            </section>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/headjs/1.0.3/head.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/js/reveal.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script>
    var email = 'mailto:firstname.lastname@hostname.com';
    email = email.replace('firstname', 'adrien');
    email = email.replace('lastname', 'eudes');
    email = email.replace('hostname', 'sephoradigital');
    $('.insert.email').append($('<a>').attr('href', email).html('Adrien Eudes'))
    </script>
    <script>
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,
            transition: 'slide',
            dependencies: [
                { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.2.0/plugin/highlight/highlight.min.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            ]
        });
    </script>
</body>
</html>